# セキュリティテスト計画書

作成日時: 2025-07-17 13:00
実施者: Worker3

## テスト概要
管理画面のCSVファイルアップロード機能に対するセキュリティテストを実施し、脆弱性の有無を確認する。

## テスト対象
- CSVファイルアップロード機能
- ファイル形式チェック機能
- ファイルサイズ制限機能
- エラーハンドリング機能

## セキュリティテスト項目

### 1. ファイルアップロード脆弱性チェック
- [ ] 許可されていないファイル形式のアップロード試行
  - .exe, .php, .js, .html ファイル
  - 拡張子偽装ファイル（.csv.exe など）
- [ ] ファイル名インジェクション
  - ../../../etc/passwd.csv
  - <script>alert('xss')</script>.csv
- [ ] 空ファイルのアップロード
- [ ] 巨大ファイル（100MB以上）のアップロード

### 2. XSS対策確認
- [ ] ファイル名にスクリプトタグを含むCSV
- [ ] CSV内容にJavaScriptコードを含むファイル
- [ ] HTMLタグを含むファイル名

### 3. CSRF対策確認
- [ ] CSRFトークンの存在確認
- [ ] 不正なリクエストの拒否確認
- [ ] Refererヘッダーの検証

### 4. ファイルサイズ制限テスト
- [ ] 制限サイズを超えるファイルのアップロード
- [ ] 0バイトファイルのアップロード
- [ ] 制限サイズぎりぎりのファイル

### 5. 入力値検証
- [ ] 不正なCSV形式ファイル
- [ ] 文字エンコーディング攻撃
- [ ] SQLインジェクション試行データ

## テストデータ準備

### 悪意のあるファイル例
1. **executable.csv.exe** - 実行ファイル偽装
2. **script_injection.csv** - スクリプトタグ含有
3. **large_file.csv** - サイズ制限テスト用
4. **empty.csv** - 空ファイル
5. **malformed.csv** - 不正なCSV形式

## 期待される結果
- 不正ファイルは全て拒否される
- 適切なエラーメッセージが表示される
- システムがクラッシュしない
- セキュリティログが記録される

## テスト環境
- URL: http://localhost:8000/admin/
- ブラウザ: Chrome（最新版）
- テストツール: curl, Burp Suite（必要に応じて）

## 実施予定時刻
2025-07-17 13:30 〜 14:00