<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>地図ボタンクリックテスト</title>
</head>
<body>
    <h1>地図ボタンクリックテスト</h1>
    <p>以下のコードをブラウザのコンソールで実行して、地図ボタンの動作を確認してください：</p>
    
    <pre style="background: #f4f4f4; padding: 15px; border-radius: 5px;">
// 1. 地図ボタンが存在するか確認
const buttons = document.querySelectorAll('.map-toggle-btn');
console.log('地図ボタンの数:', buttons.length);

// 2. 最初のボタンの情報を表示
if (buttons.length > 0) {
    console.log('最初のボタン:', buttons[0]);
    console.log('ボタンのHTML:', buttons[0].outerHTML);
}

// 3. setupMapAccordionsが呼ばれたか確認
// （コンソールに "setupMapAccordions called" と表示されるはず）

// 4. 手動でクリックイベントを発火
if (buttons.length > 0) {
    console.log('ボタンを手動でクリックします...');
    buttons[0].click();
}

// 5. モーダルが表示されたか確認
setTimeout(() => {
    const modal = document.getElementById('map-modal');
    if (modal && modal.style.display === 'flex') {
        console.log('✓ モーダルが表示されました！');
    } else {
        console.log('✗ モーダルが表示されていません');
        console.log('モーダルのdisplay:', modal?.style.display);
    }
}, 1000);
    </pre>
    
    <h2>問題が続く場合の追加デバッグ：</h2>
    <pre style="background: #f4f4f4; padding: 15px; border-radius: 5px;">
// setupMapAccordionsを手動で再実行
if (window.app && window.app.setupMapAccordions) {
    console.log('setupMapAccordionsを手動で実行...');
    window.app.setupMapAccordions();
    
    // 再度ボタンをクリック
    setTimeout(() => {
        const buttons = document.querySelectorAll('.map-toggle-btn');
        if (buttons.length > 0) {
            console.log('再度ボタンをクリック...');
            buttons[0].click();
        }
    }, 500);
}
    </pre>
</body>
</html>