<!DOCTYPE html>
<html>
<head>
    <title>Store Logic Test</title>
</head>
<body>
    <h1>Store Logic Test</h1>
    <div id="output"></div>
    
    <script src="data-manager.js"></script>
    <script>
        async function testStoreLogic() {
            const dataManager = new DataManager();
            await dataManager.init();
            
            const output = document.getElementById('output');
            let html = '';
            
            // Test region 001 and 013
            const testRegions = ['001', '013'];
            
            for (const regionId of testRegions) {
                const ranking = dataManager.getRankingByRegionId(regionId);
                const stores = dataManager.getStoresByRegionId(regionId);
                const storeView = dataManager.storeViews.find(sv => sv.regionId === regionId);
                
                html += '<h2>Region ' + regionId + '</h2>';
                html += '<h3>Ranking:</h3><pre>' + JSON.stringify(ranking, null, 2) + '</pre>';
                html += '<h3>Store View Data:</h3><pre>' + JSON.stringify(storeView, null, 2) + '</pre>';
                html += '<h3>Stores found: ' + stores.length + '</h3>';
                html += '<h3>Store Details:</h3><ul>';
                stores.forEach(store => {
                    html += '<li>' + store.id + ' - ' + store.clinicName + ' - ' + store.name + '</li>';
                });
                html += '</ul>';
                html += '<hr>';
            }
            
            output.innerHTML = html;
        }
        
        testStoreLogic();
    </script>
</body>
</html>